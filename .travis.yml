language: php
php:
  - '5.5'
  - '5.6'
  - '7.0'
  - '7.1'

os:
  - linux

jdk:
  - oraclejdk8

addons:
  apt:
    packages:
        - oracle-java8-installer

env:
  global:
    - JAVA_HOME="/usr/lib/jvm/java-8-oracle/jre"

before_install:
  - sudo update-java-alternatives -s java-8-oracle
  - curl -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.1.1.deb && sudo dpkg -i --force-confnew elasticsearch-5.1.1.deb && sudo service elasticsearch restart

before_script:
  - sleep 15

git:
  depth: 1

sudo: true

install:
  - composer install --no-interaction

notifications:
     email:
        on_success: always
        on_failure: always


